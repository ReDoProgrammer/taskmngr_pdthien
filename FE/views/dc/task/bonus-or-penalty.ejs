<div class="modal" tabindex="-1" role="dialog" id="modalBonusOrPenalty">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-body">
                <div class="panel panel-primary text-white bg-dark">
                    <div class="panel-heading font-weight-bold"><i class="fa fa-info-circle" aria-hidden="true"></i>
                        <button type="button" class="close text-danger" data-dismiss="modal">&times;</button>
                        Bonus or penalty remark
                    </div>
                    <div class="panel-body">

                        <div class="row">
                            <div class="col-md-3">
                                <label class="radio-inline"><input type="radio" name="optradio" checked
                                        value="rbtBonus">Bonus</label>
                                <label class="radio-inline"><input type="radio" name="optradio"
                                        value="rbtPenalty">Penalty</label>
                            </div>
                            <div class="col-md-3">
                                <select id="slBPList" class="form-control"></select>
                            </div>
                            <div class="col-md-4">
                                <input type="text" placeholder="Remark" id="txtBPRemark" class="form-control">
                            </div>
                            <div class="col-md-2">
                                <button class="btn btn-info" id="btnSubmitBP">Submit</button>
                            </div>
                        </div>

                        <label class="text-danger font-weight-bold" id="lblBPMessage"></label>
                    </div>

                    <div class="panel-footer">

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $('input[type=radio][name=optradio]').change(function () {
        console.log($(this).val());
    });

    $('#btnSubmitBP').click(function () {
        let dc_mark = $('#rbtBonus').is(':checked') ? 1 : -1;
        let remark = $('#txtBPRemark').val();
        if (remark.trim().length === 0) {
            $('#lblBPMessage').text('(!) Please input remark');
            $('#lblBPMessage').show().delay(2000).fadeOut();
            return;
        }
        $.ajax({
            url: '/dc/task/mark',
            type: 'put',
            headers: {
                authorization: "Bearer " + localStorage.getItem("accessToken"),
            },
            data: {
                taskId,
                dc_mark,
                remark
            },
            success: function (data) {
                alert(data.msg);
                $('#modalBonusOrPenalty').modal('hide');
                LoadTasks();
            },
            error: function (request, status, error) {
                alert(request.responseJSON.msg)
            }

        })
    })
</script>