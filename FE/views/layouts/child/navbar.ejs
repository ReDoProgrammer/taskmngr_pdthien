<nav
  class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top"
  role="navigation"
>
  <a class="navbar-brand" href="#">BambooPhoto</a>
  <button
    class="navbar-toggler"
    type="button"
    data-toggle="collapse"
    data-target="#navbarNav"
  >
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarNav">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item active">
        <a class="nav-link" href="#"
          >Home <span class="sr-only">(current)</span></a
        >
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">Doing</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">Done</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">Rejected</a>
      </li>
    </ul>
    <ul class="navbar-nav">
      <li class="nav-item">
        <div class="input-group mt-2">
          <div class="input-group-prepend account-control">
            <div class="input-group-text">U</div>
          </div>
          <input
            type="text"
            class="form-control account-control"
            id="txtUsername"
            placeholder="Username"
          />
        </div>
      </li>
      <li class="nav-item col-auto" id="loginPanel">
        <div class="input-group mt-2">
          <div class="input-group-prepend account-control">
            <div class="input-group-text">P</div>
          </div>
          <input
            type="password"
            class="form-control account-control"
            id="txtPassword"
            placeholder="Password"
          />
        </div>
      </li>
      <li class="nav-item text-center">
        <a class="nav-link text-warning font-weight-bold" href="#" id="btnLogin">Login</a>
      </li>
    </ul>
  </div>
</nav>

<style>
  .account-control {
    height: 25px !important;
  }
  input.account-control {
    width: 100px !important;
  }
</style>

<script>
  $(document).ready(function () {});

  $("#btnLogin").click(function (e) {
    e.preventDefault();

    let username = $("#txtUsername").val();
    let password = $("#txtPassword").val();

    $.ajax({
      url: "/auth/login",
      type: "post",
      data: {
        username,
        password,
      },
     success: function (data, textStatus, xhr) {
        window.localStorage.setItem('accessToken', data.accessToken);
        window.location.href=data.url;
        
      },
      error: function (jqXHR, textStatus, errorThrown) {
        $("#lblError").text(jqXHR.responseJSON.msg);       
      },
    });
  });
</script>
